/* jquery plugins collective */

/* B */

/*
 * jquery.binarytransport.js
 *
 * @description. jQuery ajax transport for making binary data type requests.
 * @version 1.0 
 * @author Henry Algus <henryalgus@gmail.com>
 *
 */
 
$.ajaxTransport("+binary",function(a,e,n){return window.FormData&&(a.dataType&&"binary"==a.dataType||a.data&&(window.ArrayBuffer&&a.data instanceof ArrayBuffer||window.Blob&&a.data instanceof Blob))?{send:function(e,n){var t=new XMLHttpRequest,r=a.url,s=a.type,o=a.async||!0,d=a.responseType||"blob",u=a.data||null,i=a.username||null,p=a.password||null;t.addEventListener("load",function(){var e={};e[a.dataType]=t.response,n(t.status,t.statusText,e,t.getAllResponseHeaders())}),t.open(s,r,o,i,p);for(var l in e)t.setRequestHeader(l,e[l]);t.responseType=d,t.send(u)},abort:function(){n.abort()}}:void 0});

/* D */

//
// jDataView by Vjeux - Jan 2010
//
// A unique way to read a binary file in the browser
// http://github.com/vjeux/jsDataView
// http://blog.vjeux.com/ <vjeuxx@gmail.com>
//

!function(){var t={ArrayBuffer:"undefined"!=typeof ArrayBuffer,DataView:"undefined"!=typeof DataView&&"getFloat64"in DataView.prototype},e=function(e,r,i,n){if(this._buffer=e,!(t.ArrayBuffer&&e instanceof ArrayBuffer)&&"string"!=typeof e)throw new TypeError("Type error");this._isArrayBuffer=t.ArrayBuffer&&e instanceof ArrayBuffer,this._isDataView=t.DataView&&this._isArrayBuffer,this._littleEndian=void 0===n?!0:n;var s=this._isArrayBuffer?e.byteLength:e.length;if(void 0===r&&(r=0),void 0==i&&(i=s-r),!this._isDataView){if("number"!=typeof r)throw new TypeError("Type error");if("number"!=typeof i)throw new TypeError("Type error");if(0>typeof r)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");if(0>typeof i)throw new Error("INDEX_SIZE_ERR: DOM Exception 1")}if(this._isDataView&&(this._view=new DataView(e,r,i),this._start=0),this._start=r,r>=s)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");this._offset=0,this.length=i};e.createBuffer=function(){if("undefined"!=typeof ArrayBuffer){for(var t=new ArrayBuffer(arguments.length),e=new Int8Array(t),r=0;r<arguments.length;++r)e[r]=arguments[r];return t}return String.fromCharCode.apply(null,arguments)},e.prototype={getString:function(t,e){var r;if(void 0===e&&(e=this._offset),"number"!=typeof e)throw new TypeError("Type error");if(0>t||e+t>this.length)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");if(this._isArrayBuffer){for(var i=new Int8Array(this._buffer,this._start+e,t),n=[],s=0;t>s;++s)n[s]=i[s];r=String.fromCharCode.apply(null,n)}else r=this._buffer.substr(this._start+e,t);return this._offset=e+t,r},getChar:function(t){var e,r=1;if(void 0===t&&(t=this._offset),this._isArrayBuffer)e=String.fromCharCode(this._getUint8(t));else{if("number"!=typeof t)throw new TypeError("Type error");if(t+r>this.length)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");e=this._buffer.charAt(this._start+t),this._offset=t+r}return e},tell:function(){return this._offset},seek:function(t){if("number"!=typeof t)throw new TypeError("Type error");if(0>t||t>this.length)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");this._offset=t},_endianness:function(t,e,r,i){return t+(i?r-e-1:e)},_getFloat64:function(t,e){var r=this._getUint8(this._endianness(t,0,8,e)),i=this._getUint8(this._endianness(t,1,8,e)),n=this._getUint8(this._endianness(t,2,8,e)),s=this._getUint8(this._endianness(t,3,8,e)),h=this._getUint8(this._endianness(t,4,8,e)),o=this._getUint8(this._endianness(t,5,8,e)),f=this._getUint8(this._endianness(t,6,8,e)),a=this._getUint8(this._endianness(t,7,8,e)),_=1-2*(r>>7),u=((r<<1&255)<<3|i>>4)-(Math.pow(2,10)-1),w=(15&i)*Math.pow(2,48)+n*Math.pow(2,40)+s*Math.pow(2,32)+h*Math.pow(2,24)+o*Math.pow(2,16)+f*Math.pow(2,8)+a;return 0===w&&u==-(Math.pow(2,10)-1)?0:-1023==u?_*w*Math.pow(2,-1074):_*(1+w*Math.pow(2,-52))*Math.pow(2,u)},_getFloat32:function(t,e){var r=this._getUint8(this._endianness(t,0,4,e)),i=this._getUint8(this._endianness(t,1,4,e)),n=this._getUint8(this._endianness(t,2,4,e)),s=this._getUint8(this._endianness(t,3,4,e)),h=1-2*(r>>7),o=(r<<1&255|i>>7)-127,f=(127&i)<<16|n<<8|s;return 0===f&&-127==o?0:-127==o?h*f*Math.pow(2,-149):h*(1+f*Math.pow(2,-23))*Math.pow(2,o)},_getInt32:function(t,e){var r=this._getUint32(t,e);return r>Math.pow(2,31)-1?r-Math.pow(2,32):r},_getUint32:function(t,e){var r=this._getUint8(this._endianness(t,0,4,e)),i=this._getUint8(this._endianness(t,1,4,e)),n=this._getUint8(this._endianness(t,2,4,e)),s=this._getUint8(this._endianness(t,3,4,e));return r*Math.pow(2,24)+(i<<16)+(n<<8)+s},_getInt16:function(t,e){var r=this._getUint16(t,e);return r>Math.pow(2,15)-1?r-Math.pow(2,16):r},_getUint16:function(t,e){var r=this._getUint8(this._endianness(t,0,2,e)),i=this._getUint8(this._endianness(t,1,2,e));return(r<<8)+i},_getInt8:function(t){var e=this._getUint8(t);return e>Math.pow(2,7)-1?e-Math.pow(2,8):e},_getUint8:function(t){return this._isArrayBuffer?new Uint8Array(this._buffer,this._start+t,1)[0]:255&this._buffer.charCodeAt(this._start+t)}};var r={Int8:1,Int16:2,Int32:4,Uint8:1,Uint16:2,Uint32:4,Float32:4,Float64:8};for(var i in r)!function(t){var i=r[t];e.prototype["get"+t]=function(e,r){var n;if(void 0===r&&(r=this._littleEndian),void 0===e&&(e=this._offset),this._isDataView)n=this._view["get"+t](e,r);else if(this._isArrayBuffer&&e%i===0&&(1==i||r))n=new self[t+"Array"](this._buffer,e,1)[0];else{if("number"!=typeof e)throw new TypeError("Type error");if(e+i>this.length)throw new Error("INDEX_SIZE_ERR: DOM Exception 1");n=this["_get"+t](this._start+e,r)}return this._offset=e+i,n}}(i);self.jDataView=e}();


